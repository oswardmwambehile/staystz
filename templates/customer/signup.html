{% extends 'customer/base.html' %}
{% load static %}
{% load widget_tweaks %}
{% load socialaccount %}

{% block content %}
<div class="container-fluid bg-white p-0">

    <!-- Spinner -->
    <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-border text-primary" style="width:3rem;height:3rem;">
            <span class="sr-only">Loading...</span>
        </div>
    </div>

    <!-- Navbar -->
    {% include 'customer/nav.html' %}

    <!-- Messages -->
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }} text-center mt-4">
        {{ message }}
    </div>
    {% endfor %}

    <!-- ================= GitHub Style Signup ================= -->
    <style>
        .github-signup-wrapper {
            max-width: 440px;
            margin: 60px auto;
        }

        .github-signup-card {
            background: #ffffff;
            border: 1px solid #d0d7de;
            border-radius: 6px;
            padding: 24px;
            box-shadow: rgba(0, 0, 0, 0.1) 0px 5px 15px;
        }

        .github-signup-card h3 {
            text-align: center;
            font-weight: 300;
            margin-bottom: 20px;
            color: #24292f;
        }

        .github-signup-card label {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 6px;
            color: #24292f;
        }

        .github-signup-card .form-control {
            font-size: 14px;
            padding: 10px 12px;
            border-radius: 6px;
            border: 1px solid #d0d7de;
            width: 100%;
        }

        .github-signup-card .form-control:focus {
            border-color: #0969da;
            box-shadow: 0 0 0 3px rgba(9,105,218,0.15);
        }

        .github-signup-card button {
            width: 100%;
            background-color: #0071c2;;
            border: none;
            padding: 10px;
            font-size: 14px;
            font-weight: 500;
            border-radius: 6px;
            color: #fff;
            margin-top: 10px;
        }

        .github-signup-card button:hover {
            background-color: #0071c2;;
        }

        .github-signup-footer {
            margin-top: 16px;
            text-align: center;
            font-size: 14px;
        }

        .github-signup-footer a {
            color: #0969da;
            text-decoration: none;
        }

        .github-signup-footer a:hover {
            text-decoration: underline;
        }

        .form-error {
            color: red;
            font-size: 12px;
            margin-top: 4px;
        }
    </style>

    <div class="github-signup-wrapper">

        <!-- Signup Card -->
        <div class="github-signup-card">
            <h3 style="font-family: 'Montserrat', sans-serif; font-weight: 500; font-size: 1.5rem;">Create your account</h3>

            <form method="POST">
                {% csrf_token %}

                {% for field in form %}
                    <div class="mb-3">
                        <label>{{ field.label }}</label>
                        {{ field|add_class:"form-control" }}
                        {% if field.errors %}
                            <div class="form-error">{{ field.errors|striptags }}</div>
                        {% endif %}
                    </div>
                {% endfor %}

                <button type="submit">Register</button>
            </form>
        </div>

        <div class="github-signup-footer">
            Already have an account?
            <a href="{% url 'signin' %}">Login</a>
        </div>

        <!-- Optional Divider for Social Login -->
        <div class="github-divider" style="display:flex;align-items:center;margin:20px 0;font-size:12px;color:#57606a;">
            <div style="flex:1;border-top:1px solid #d0d7de;"></div>
            <span style="margin:0 10px;">OR</span>
            <div style="flex:1;border-top:1px solid #d0d7de;"></div>
        </div>

        <!-- Social Login Buttons -->
        <div class="github-social">
            <!-- Google -->
            <a href="{% provider_login_url 'google' %}">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="20" height="20">
                    <path fill="#EA4335" d="M24 9.5c3.54 0 6.66 1.23 9.14 3.64l6.82-6.82C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.94 6.17C12.43 13.72 17.74 9.5 24 9.5z"/>
                    <path fill="#4285F4" d="M46.1 24.55c0-1.64-.15-3.22-.43-4.75H24v9h12.5c-.54 2.9-2.16 5.36-4.6 7.02l7.05 5.49C43.85 36.87 46.1 31.18 46.1 24.55z"/>
                    <path fill="#FBBC05" d="M10.5 28.39c-.48-1.45-.75-2.99-.75-4.39s.27-2.94.75-4.39l-7.94-6.17C.92 16.46 0 20.12 0 24s.92 7.54 2.56 10.56l7.94-6.17z"/>
                    <path fill="#34A853" d="M24 48c6.48 0 11.9-2.13 15.87-5.77l-7.05-5.49c-1.96 1.32-4.47 2.1-8.82 2.1-6.26 0-11.57-4.22-13.5-9.89l-7.94 6.17C6.51 42.62 14.62 48 24 48z"/>
                </svg>
                Sign up with Google
            </a>

            <!-- Apple -->
            <a href="#">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" width="18" height="18" fill="#000">
                    <path d="M318.7 268.7c-.2-44.6 36.3-65.9 37.9-66.9-20.7-30.2-52.8-34.4-64.1-34.9-27.3-2.8-53.3 16.1-67.1 16.1-13.8 0-35.1-15.7-57.7-15.3-29.7.4-57.1 17.3-72.4 43.9-30.9 53.6-7.9 133.1 22.2 176.6 14.7 21.3 32.2 45.2 55.2 44.4 22.2-.9 30.6-14.4 57.5-14.4 26.9 0 34.5 14.4 57.9 13.9 24-.4 39.2-21.7 53.8-43.1 16.9-24.7 23.9-48.6 24.2-49.8-.5-.2-46.3-17.8-46.5-70.5zM256.4 80.4c12.2-14.8 20.4-35.3 18.1-55.9-17.6.7-38.9 11.7-51.5 26.5-11.3 13.1-21.1 34.1-18.4 54.2 19.6 1.5 39.6-9.9 51.8-24.8z"/>
                </svg>
                Sign up with Apple
            </a>

            <!-- Facebook -->
            <a href="#">
                <svg xmlns="http://www.w3.org/2000/svg" fill="#1877F2" viewBox="0 0 24 24" width="20" height="20">
                    <path d="M22 12a10 10 0 10-11.5 9.9v-7h-2.5V12h2.5V9.8c0-2.5 1.5-3.9 3.7-3.9 1.1 0 2.2.2 2.2.2v2.4h-1.2c-1.2 0-1.6.8-1.6 1.6V12h2.7l-.4 2.9h-2.3v7A10 10 0 0022 12z"/>
                </svg>
                Sign up with Facebook
            </a>
        </div>

    </div>

    <!-- Footer -->
    {% include 'customer/footer.html' %}

</div>
<!-- Google Fonts: Montserrat with 300, 400, 700 -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet">
{% endblock %}
